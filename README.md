# âš¡ é—ªç”µæ¨é€ - ä¼ä¸šçº§æ¶ˆæ¯æ¨é€ç³»ç»Ÿ

![é—ªç”µæ¨é€](./frontend/src/assets/lightning.svg)

[![License](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)
[![Django](https://img.shields.io/badge/Django-5.2.1-green.svg)](https://djangoproject.com/)
[![Vue](https://img.shields.io/badge/Vue-3.5.13-brightgreen.svg)](https://vuejs.org/)
[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://python.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.8+-blue.svg)](https://typescriptlang.org/)

## åŠŸèƒ½å¼ºå¤§ã€æ˜“äºä½¿ç”¨çš„å‰åç«¯åˆ†ç¦»æ¶ˆæ¯æ¨é€ç³»ç»Ÿ

æ”¯æŒä¼ä¸šå¾®ä¿¡ã€é£ä¹¦ã€é’‰é’‰å¤šå¹³å°æ¶ˆæ¯æ¨é€ | æ™ºèƒ½åˆ†å‘ | æ¨¡æ¿å¼•æ“ | å®æ—¶ç›‘æ§

[å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [APIæ–‡æ¡£](#-apiæ–‡æ¡£) â€¢ [ç”Ÿäº§éƒ¨ç½²](#-ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²)

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

é—ªç”µæ¨é€æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„ä¼ä¸šçº§æ¶ˆæ¯æ¨é€ç³»ç»Ÿï¼Œé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œä¸“ä¸ºä¼ä¸šå†…éƒ¨é€šçŸ¥ã€å‘Šè­¦åˆ†å‘ã€ç³»ç»Ÿé›†æˆç­‰åœºæ™¯è®¾è®¡ã€‚ç³»ç»Ÿæ”¯æŒå¤šç§ä¸»æµé€šè®¯å¹³å°çš„æœºå™¨äººæ¨é€ï¼Œæä¾›çµæ´»çš„æ¨¡æ¿ç³»ç»Ÿå’Œæ™ºèƒ½åˆ†å‘æœºåˆ¶ã€‚

### ğŸ¯ è®¾è®¡ç†å¿µ

- **ç®€æ´é«˜æ•ˆ**: ç®€å•æ˜“ç”¨çš„ç•Œé¢è®¾è®¡ï¼Œå¿«é€Ÿä¸Šæ‰‹
- **åŠŸèƒ½å¼ºå¤§**: æ”¯æŒå¤æ‚çš„æ¶ˆæ¯æ¨¡æ¿å’Œåˆ†å‘è§„åˆ™
- **å®‰å…¨å¯é **: å®Œæ•´çš„è®¤è¯æˆæƒæœºåˆ¶å’Œé”™è¯¯å¤„ç†
- **æ˜“äºæ‰©å±•**: æ¨¡å—åŒ–è®¾è®¡ï¼Œä¾¿äºåŠŸèƒ½æ‰©å±•å’Œå®šåˆ¶

## ğŸŒŸ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½

- ğŸ¤– **å¤šå¹³å°æ”¯æŒ**: ä¼ä¸šå¾®ä¿¡ã€é£ä¹¦ã€é’‰é’‰æœºå™¨äººå…¨æ”¯æŒ
- ğŸ“ **æ™ºèƒ½æ¨¡æ¿**: åŸºäºJinja2çš„å¼ºå¤§æ¨¡æ¿å¼•æ“ï¼Œæ”¯æŒå˜é‡ã€æ¡ä»¶ã€å¾ªç¯ç­‰
- ğŸ”„ **é«˜çº§åˆ†å‘**: åŸºäºè§„åˆ™çš„æ™ºèƒ½æ¶ˆæ¯åˆ†å‘ç³»ç»Ÿ
- ğŸ“Š **å®æ—¶ç›‘æ§**: å®Œæ•´çš„å‘é€æ—¥å¿—å’Œæ•°æ®ç»Ÿè®¡åˆ†æ
- ğŸ” **å®‰å…¨è®¤è¯**: JWT Tokenè®¤è¯ï¼Œæ”¯æŒç”¨æˆ·æƒé™ç®¡ç†
- ğŸ¨ **ç°ä»£ç•Œé¢**: åŸºäºElement Plusçš„ç¾è§‚å“åº”å¼ç•Œé¢

### é«˜çº§ç‰¹æ€§

- ğŸš€ **Prometheusé›†æˆ**: åŸç”Ÿæ”¯æŒPrometheuså‘Šè­¦æ•°æ®è§£æ
- ğŸ“ˆ **æ•°æ®å¯è§†åŒ–**: EChartså›¾è¡¨å±•ç¤ºæ¶ˆæ¯å‘é€è¶‹åŠ¿
- ğŸ”— **APIæ¥å£**: ä¸°å¯Œçš„REST APIï¼Œæ˜“äºç¬¬ä¸‰æ–¹ç³»ç»Ÿé›†æˆ
- ğŸ›ï¸ **æ‰¹é‡æ“ä½œ**: æ”¯æŒæ‰¹é‡é…ç½®å’Œç®¡ç†
- ğŸ“± **å“åº”å¼è®¾è®¡**: å®Œç¾é€‚é…PCå’Œç§»åŠ¨ç«¯
- ğŸ”§ **ä¸€é”®éƒ¨ç½²**: æä¾›å®Œæ•´çš„éƒ¨ç½²è„šæœ¬å’ŒDockeræ”¯æŒ
- ğŸŒ **å¤šç¯å¢ƒæ”¯æŒ**: å®Œæ•´çš„å¼€å‘/æµ‹è¯•/é¢„å‘å¸ƒ/ç”Ÿäº§ç¯å¢ƒé…ç½®ä½“ç³»

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### ç³»ç»Ÿæ¶æ„å›¾

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‰ç«¯ (Vue3)    â”‚â”€â”€â”€â”€â”‚  åç«¯ (Django)   â”‚â”€â”€â”€â”€â”‚  æ¶ˆæ¯æ¨é€å¹³å°    â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ â€¢ ç”¨æˆ·ç•Œé¢      â”‚    â”‚ â€¢ REST API      â”‚    â”‚ â€¢ ä¼ä¸šå¾®ä¿¡       â”‚
â”‚ â€¢ æ•°æ®å¯è§†åŒ–    â”‚â”€â”€â”€â”€â”‚ â€¢ è®¤è¯æˆæƒ      â”‚â”€â”€â”€â”€â”‚ â€¢ é£ä¹¦          â”‚
â”‚ â€¢ å“åº”å¼è®¾è®¡    â”‚    â”‚ â€¢ æ¶ˆæ¯å¤„ç†      â”‚    â”‚ â€¢ é’‰é’‰          â”‚
â”‚ â€¢ çŠ¶æ€ç®¡ç†      â”‚    â”‚ â€¢ æ¨¡æ¿å¼•æ“      â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚
         â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  æ•°æ®åº“ (SQLite) â”‚
                        â”‚                 â”‚
                        â”‚ â€¢ ç”¨æˆ·æ•°æ®      â”‚
                        â”‚ â€¢ æ¶ˆæ¯æ¨¡æ¿      â”‚
                        â”‚ â€¢ å‘é€æ—¥å¿—      â”‚
                        â”‚ â€¢ åˆ†å‘é…ç½®      â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ ˆè¯¦æƒ…

#### ğŸ–¥ï¸ å‰ç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Vue.js | 3.5.13 | æ¸è¿›å¼JavaScriptæ¡†æ¶ |
| TypeScript | 5.8+ | é™æ€ç±»å‹æ£€æŸ¥ |
| Vite | 6.3+ | ç°ä»£åŒ–æ„å»ºå·¥å…· |
| Element Plus | 2.9+ | UIç»„ä»¶åº“ |
| ECharts | 5.6+ | æ•°æ®å¯è§†åŒ– |
| Pinia | 3.0+ | çŠ¶æ€ç®¡ç† |
| Vue Router | 4.5+ | è·¯ç”±ç®¡ç† |
| Axios | 1.9+ | HTTPå®¢æˆ·ç«¯ |

#### ğŸ”§ åç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Django | 5.2.1 | Webæ¡†æ¶ |
| Django REST Framework | 3.16+ | APIæ¡†æ¶ |
| Simple JWT | 5.5+ | JWTè®¤è¯ |
| Jinja2 | 3.1+ | æ¨¡æ¿å¼•æ“ |
| SQLite | 3.x | æ•°æ®åº“ |
| Requests | 2.32+ | HTTPå®¢æˆ·ç«¯ |

## ğŸ“ é¡¹ç›®ç»“æ„

```text
message-push-system/
â”œâ”€â”€ ğŸ“„ start.sh                    # ä¸€é”®å¯åŠ¨è„šæœ¬
â”œâ”€â”€ ğŸ“„ README.md                   # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ ğŸ“ backend/                    # Djangoåç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ ğŸ“„ manage.py               # Djangoç®¡ç†è„šæœ¬
â”‚   â”œâ”€â”€ ğŸ“„ requirements.txt        # Pythonä¾èµ–
â”‚   â”œâ”€â”€ ğŸ“„ db.sqlite3             # SQLiteæ•°æ®åº“
â”‚   â”œâ”€â”€ ğŸ“ messagepush/           # é¡¹ç›®é…ç½®åŒ…
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ settings.py        # Djangoé…ç½®
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ urls.py            # æ ¹URLé…ç½®
â”‚   â”‚   â””â”€â”€ ğŸ“„ wsgi.py            # WSGIé…ç½®
â”‚   â””â”€â”€ ğŸ“ push/                  # æ¨é€åº”ç”¨
â”‚       â”œâ”€â”€ ğŸ“„ models.py          # æ•°æ®æ¨¡å‹
â”‚       â”œâ”€â”€ ğŸ“„ views.py           # è§†å›¾æ§åˆ¶å™¨
â”‚       â”œâ”€â”€ ğŸ“„ serializers.py     # åºåˆ—åŒ–å™¨
â”‚       â”œâ”€â”€ ğŸ“„ services.py        # ä¸šåŠ¡é€»è¾‘
â”‚       â”œâ”€â”€ ğŸ“„ urls.py            # URLè·¯ç”±
â”‚       â”œâ”€â”€ ğŸ“„ admin.py           # åå°ç®¡ç†
â”‚       â”œâ”€â”€ ğŸ“„ dashboard.py       # ä»ªè¡¨ç›˜API
â”‚       â””â”€â”€ ğŸ“ migrations/        # æ•°æ®åº“è¿ç§»
â””â”€â”€ ğŸ“ frontend/                  # Vueå‰ç«¯é¡¹ç›®
    â”œâ”€â”€ ğŸ“„ package.json           # NPMé…ç½®
    â”œâ”€â”€ ğŸ“„ vite.config.ts         # Viteé…ç½®
    â”œâ”€â”€ ğŸ“„ tsconfig.json          # TypeScripté…ç½®
    â”œâ”€â”€ ğŸ“„ index.html             # å…¥å£HTML
    â”œâ”€â”€ ğŸ“„ .env.development       # å¼€å‘ç¯å¢ƒé…ç½®
    â”œâ”€â”€ ğŸ“„ .env.test              # æµ‹è¯•ç¯å¢ƒé…ç½®
    â”œâ”€â”€ ğŸ“„ .env.staging           # é¢„å‘å¸ƒç¯å¢ƒé…ç½®
    â”œâ”€â”€ ğŸ“„ .env.production        # ç”Ÿäº§ç¯å¢ƒé…ç½®
    â”œâ”€â”€ ğŸ“„ ENV_CONFIG_GUIDE.md    # ç¯å¢ƒé…ç½®ä½¿ç”¨æŒ‡å—
    â””â”€â”€ ğŸ“ src/                   # æºä»£ç ç›®å½•
        â”œâ”€â”€ ğŸ“„ main.ts            # åº”ç”¨å…¥å£
        â”œâ”€â”€ ğŸ“„ App.vue            # æ ¹ç»„ä»¶
        â”œâ”€â”€ ğŸ“„ env.d.ts           # ç¯å¢ƒå˜é‡ç±»å‹å®šä¹‰
        â”œâ”€â”€ ğŸ“ api/               # APIæ¥å£å±‚
        â”œâ”€â”€ ğŸ“ assets/            # é™æ€èµ„æº
        â”œâ”€â”€ ğŸ“ components/        # å…¬å…±ç»„ä»¶
        â”œâ”€â”€ ğŸ“ router/            # è·¯ç”±é…ç½®
        â”œâ”€â”€ ğŸ“ stores/            # çŠ¶æ€ç®¡ç†
        â”œâ”€â”€ ğŸ“ types/             # TypeScriptç±»å‹
        â”œâ”€â”€ ğŸ“ utils/             # å·¥å…·å‡½æ•°
        â”‚   â”œâ”€â”€ ğŸ“„ envConfig.ts   # ç¯å¢ƒé…ç½®å·¥å…·ç±»
        â”‚   â””â”€â”€ ğŸ“„ apiConfig.ts   # APIé…ç½®å·¥å…·ç±»
        â””â”€â”€ ğŸ“ views/             # é¡µé¢ç»„ä»¶
            â”œâ”€â”€ ğŸ“ template/      # æ¨¡æ¿ç®¡ç†
            â”œâ”€â”€ ğŸ“ robot/         # æœºå™¨äººç®¡ç†
            â”œâ”€â”€ ğŸ“ message/       # æ¶ˆæ¯ç®¡ç†
            â”œâ”€â”€ ğŸ“ distribution/  # åˆ†å‘é…ç½®
            â””â”€â”€ ğŸ“ prometheus/    # Prometheusé›†æˆ
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ“‹ ç¯å¢ƒè¦æ±‚

- **Python**: 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Node.js**: 16.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- **NPM**: 8.0 æˆ–æ›´é«˜ç‰ˆæœ¬

### âš¡ ä¸€é”®å¯åŠ¨

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/X-Mars/lightning_massage_push.git
cd lightning_massage_push

# è¿è¡Œå¯åŠ¨è„šæœ¬
chmod +x start.sh
./start.sh
```

å¯åŠ¨è„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆä»¥ä¸‹æ“ä½œï¼š

1. âœ… åˆ›å»ºPythonè™šæ‹Ÿç¯å¢ƒ
2. âœ… å®‰è£…åç«¯ä¾èµ–
3. âœ… æ‰§è¡Œæ•°æ®åº“è¿ç§»
4. âœ… å®‰è£…å‰ç«¯ä¾èµ–
5. âœ… å¯åŠ¨åç«¯æœåŠ¡ (<http://localhost:8000>)
6. âœ… å¯åŠ¨å‰ç«¯æœåŠ¡ (<http://localhost:5173>)

### ğŸ”§ æ‰‹åŠ¨éƒ¨ç½²

#### ğŸ—ï¸ åç«¯éƒ¨ç½²

1. è¿›å…¥åç«¯ç›®å½•ï¼š

```bash
cd message-push-system/backend
```

#### åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£…ä¾èµ–

```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
# æˆ– venv\Scripts\activate  # Windows
pip install -r requirements.txt
```

#### é…ç½®æ•°æ®åº“

```bash
python manage.py makemigrations
python manage.py migrate
```

#### åˆ›å»ºç®¡ç†å‘˜è´¦æˆ·

```bash
python manage.py createsuperuser
```

#### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
python manage.py runserver
```

#### ğŸ¨ å‰ç«¯éƒ¨ç½²

1. è¿›å…¥å‰ç«¯ç›®å½•ï¼š

```bash
cd message-push-system/frontend
```

#### å®‰è£…é¡¹ç›®ä¾èµ–

```bash
npm install
```

#### ç¯å¢ƒé…ç½®

é¡¹ç›®æ”¯æŒå¤šç¯å¢ƒé…ç½®ï¼Œå·²é¢„ç½®4ä¸ªç¯å¢ƒæ–‡ä»¶ï¼š

- `.env.development` - å¼€å‘ç¯å¢ƒ
- `.env.test` - æµ‹è¯•ç¯å¢ƒ
- `.env.staging` - é¢„å‘å¸ƒç¯å¢ƒ
- `.env.production` - ç”Ÿäº§ç¯å¢ƒ

æ ¹æ®éœ€è¦ä¿®æ”¹å¯¹åº”ç¯å¢ƒæ–‡ä»¶ä¸­çš„é…ç½®ï¼š

```bash
# ä¿®æ”¹å¼€å‘ç¯å¢ƒé…ç½®
vim .env.development

# ä¿®æ”¹ç”Ÿäº§ç¯å¢ƒé…ç½®
vim .env.production
```

#### å¼€å‘æ¨¡å¼å¯åŠ¨

```bash
# å¼€å‘ç¯å¢ƒï¼ˆé»˜è®¤ï¼‰
npm run dev

# æµ‹è¯•ç¯å¢ƒ
npm run dev:test

# é¢„å‘å¸ƒç¯å¢ƒ
npm run dev:staging
```

#### ç”Ÿäº§ç¯å¢ƒæ„å»º

```bash
# ç”Ÿäº§æ„å»ºï¼ˆé»˜è®¤ï¼‰
npm run build

# æŒ‡å®šç¯å¢ƒæ„å»º
npm run build:dev      # å¼€å‘æ„å»º
npm run build:test     # æµ‹è¯•æ„å»º
npm run build:staging  # é¢„å‘å¸ƒæ„å»º
npm run build:prod     # ç”Ÿäº§æ„å»º
```

#### é¢„è§ˆæ„å»ºç»“æœ

```bash
# é¢„è§ˆç”Ÿäº§æ„å»º
npm run preview

# é¢„è§ˆå…¶ä»–ç¯å¢ƒæ„å»º
npm run preview:test
npm run preview:staging
npm run preview:prod
```

### ğŸŒ ç¯å¢ƒé…ç½®è¯´æ˜

#### ç¯å¢ƒå˜é‡é…ç½®

æ¯ä¸ªç¯å¢ƒæ–‡ä»¶æ”¯æŒä»¥ä¸‹é…ç½®é¡¹ï¼š

| å˜é‡å | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|-------|------|--------|
| `VITE_NODE_ENV` | èŠ‚ç‚¹ç¯å¢ƒ | `development` |
| `VITE_API_BASE_URL` | APIåŸºç¡€åœ°å€ | `http://localhost:8000` |
| `VITE_APP_TITLE` | åº”ç”¨æ ‡é¢˜ | `é—ªç”µæ¨é€ç³»ç»Ÿ` |
| `VITE_DEBUG` | è°ƒè¯•æ¨¡å¼ | `true/false` |
| `VITE_LOG_LEVEL` | æ—¥å¿—çº§åˆ« | `debug/info/warn/error` |
| `VITE_SHOW_ENV_TAG` | æ˜¾ç¤ºç¯å¢ƒæ ‡è¯† | `true/false` |
| `VITE_API_TIMEOUT` | APIè¶…æ—¶æ—¶é—´(ms) | `10000` |

#### ç¯å¢ƒç‰¹æ€§å¯¹æ¯”

| ç‰¹æ€§ | å¼€å‘ç¯å¢ƒ | æµ‹è¯•ç¯å¢ƒ | é¢„å‘å¸ƒç¯å¢ƒ | ç”Ÿäº§ç¯å¢ƒ |
|------|----------|----------|------------|----------|
| è°ƒè¯•æ¨¡å¼ | âœ… | âœ… | âŒ | âŒ |
| ç¯å¢ƒæ ‡è¯† | âœ… | âœ… | âœ… | âŒ |
| å¼€å‘å·¥å…· | âœ… | âœ… | âŒ | âŒ |
| æºç æ˜ å°„ | âœ… | âœ… | âœ… | âŒ |
| ä»£ç å‹ç¼© | âŒ | âŒ | âœ… | âœ… |
| é”™è¯¯ä¸ŠæŠ¥ | âŒ | âŒ | âœ… | âœ… |

#### éƒ¨ç½²å»ºè®®

- **å¼€å‘ç¯å¢ƒ**: ä½¿ç”¨ `npm run dev` è¿›è¡Œæœ¬åœ°å¼€å‘
- **æµ‹è¯•ç¯å¢ƒ**: ä½¿ç”¨ `npm run build:test` æ„å»ºåéƒ¨ç½²åˆ°æµ‹è¯•æœåŠ¡å™¨
- **é¢„å‘å¸ƒç¯å¢ƒ**: ä½¿ç”¨ `npm run build:staging` æ„å»ºï¼Œè¿›è¡Œä¸Šçº¿å‰æœ€åéªŒè¯
- **ç”Ÿäº§ç¯å¢ƒ**: ä½¿ç”¨ `npm run build:prod` æ„å»ºï¼Œç¡®ä¿æ€§èƒ½å’Œå®‰å…¨æ€§æœ€ä¼˜

## ğŸ“š APIæ–‡æ¡£

### ğŸ” è®¤è¯æ¥å£

æ‰€æœ‰APIè¯·æ±‚ï¼ˆé™¤äº†å…¬å…±æ¨é€æ¥å£ï¼‰éƒ½éœ€è¦JWTè®¤è¯ã€‚

#### è·å–è®¿é—®ä»¤ç‰Œ

```http
POST /api/token/
Content-Type: application/json

{
  "username": "your_username",
  "password": "your_password"
}
```

**å“åº”ç¤ºä¾‹ï¼š**

```json
{
  "access": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
  "refresh": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9..."
}
```

#### åˆ·æ–°è®¿é—®ä»¤ç‰Œ

```http
POST /api/token/refresh/
Content-Type: application/json

{
  "refresh": "your_refresh_token"
}
```

### ğŸš€ æ¶ˆæ¯æ¨é€æ¥å£

#### è®¤è¯æ¨é€æ¥å£

```http
POST /api/push/
Authorization: Bearer your_access_token
Content-Type: application/json

{
  "template_id": 1,
  "robot_id": 1,
  "content": {
    "title": "ç³»ç»Ÿå‘Šè­¦",
    "service": "ç”¨æˆ·æœåŠ¡",
    "level": "ä¸¥é‡",
    "message": "æ•°æ®åº“è¿æ¥å¤±è´¥"
  }
}
```

#### å…¬å…±æ¨é€æ¥å£ï¼ˆæ— éœ€è®¤è¯ï¼‰

```http
POST /api/public/push/{template_id}/{robot_id}/
Content-Type: application/json

{
  "title": "ç³»ç»Ÿé€šçŸ¥",
  "content": "ç³»ç»Ÿå°†äºä»Šæ™šè¿›è¡Œç»´æŠ¤"
}
```

#### æ¨¡æ¿ç›´æ¨æ¥å£

```http
POST /api/templates/{template_id}/send/
Content-Type: application/json

{
  "project_name": "ç”µå•†å¹³å°",
  "environment": "ç”Ÿäº§ç¯å¢ƒ",
  "alert_time": "2025-01-01 12:00:00",
  "description": "æ”¯ä»˜æœåŠ¡å¼‚å¸¸"
}
```

### ğŸ¤– æœºå™¨äººç®¡ç†æ¥å£

#### è·å–æœºå™¨äººåˆ—è¡¨

```http
GET /api/robots/
Authorization: Bearer your_access_token
```

#### åˆ›å»ºæœºå™¨äºº

```http
POST /api/robots/
Authorization: Bearer your_access_token
Content-Type: application/json

{
  "name": "æµ‹è¯•æœºå™¨äºº",
  "english_name": "test_robot",
  "webhook_url": "https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=xxx",
  "robot_type": "wechat",
  "is_default": false
}
```

### ğŸ“ æ¨¡æ¿ç®¡ç†æ¥å£

#### è·å–æ¨¡æ¿åˆ—è¡¨

```http
GET /api/templates/
Authorization: Bearer your_access_token
```

#### åˆ›å»ºæ¶ˆæ¯æ¨¡æ¿

```http
POST /api/templates/
Authorization: Bearer your_access_token
Content-Type: application/json

{
  "name": "ç³»ç»Ÿå‘Šè­¦æ¨¡æ¿",
  "robot_type": "wechat",
  "content": "## ğŸš¨ ç³»ç»Ÿå‘Šè­¦\n**é¡¹ç›®**: {{ project_name }}\n**ç¯å¢ƒ**: {{ environment }}\n**æ—¶é—´**: {{ alert_time }}\n**æè¿°**: {{ description }}"
}
```

### ğŸ”„ é«˜çº§åˆ†å‘æ¥å£

#### Prometheusåˆ†å‘æ¨é€

```http
POST /api/public/distribution/push/
Content-Type: application/json

{
  "receiver": "webhook",
  "status": "firing",
  "alerts": [
    {
      "status": "firing",
      "labels": {
        "instance": "192.168.1.100:9090",
        "project_custom": "ç”µå•†å¹³å°",
        "cluster": "ç”Ÿäº§é›†ç¾¤",
        "severity": "critical"
      },
      "annotations": {
        "summary": "å®ä¾‹å®•æœºå‘Šè­¦",
        "description": "å®ä¾‹ 192.168.1.100:9090 æ— æ³•è®¿é—®"
      }
    }
  ]
}
```

### ğŸ“Š ä»ªè¡¨ç›˜æ¥å£

#### è·å–ç»Ÿè®¡æ•°æ®

```http
GET /api/dashboard/stats/
Authorization: Bearer your_access_token
```

#### è·å–å›¾è¡¨æ•°æ®

```http
GET /api/dashboard/charts/?time_range=week
Authorization: Bearer your_access_token
```

## ğŸ’¡ ä½¿ç”¨åœºæ™¯

### ğŸ¢ ä¼ä¸šå†…éƒ¨é€šçŸ¥

- **ç³»ç»Ÿç»´æŠ¤é€šçŸ¥**: æå‰é€šçŸ¥ç”¨æˆ·ç³»ç»Ÿç»´æŠ¤æ—¶é—´
- **ç‰ˆæœ¬å‘å¸ƒé€šçŸ¥**: æ–°åŠŸèƒ½ä¸Šçº¿æˆ–Bugä¿®å¤é€šçŸ¥
- **ä¼šè®®æé†’**: é‡è¦ä¼šè®®æˆ–åŸ¹è®­æé†’
- **è€ƒå‹¤æé†’**: æ‰“å¡ã€è¯·å‡å®¡æ‰¹ç­‰æé†’

### ğŸš¨ ç›‘æ§å‘Šè­¦é›†æˆ

- **æœåŠ¡å™¨ç›‘æ§**: CPUã€å†…å­˜ã€ç£ç›˜ä½¿ç”¨ç‡å‘Šè­¦
- **åº”ç”¨ç›‘æ§**: æœåŠ¡å¯ç”¨æ€§ã€å“åº”æ—¶é—´å¼‚å¸¸
- **ä¸šåŠ¡ç›‘æ§**: è®¢å•é‡å¼‚å¸¸ã€æ”¯ä»˜å¤±è´¥ç‡è¿‡é«˜
- **å®‰å…¨ç›‘æ§**: å¼‚å¸¸ç™»å½•ã€æƒé™å˜æ›´ç­‰å®‰å…¨äº‹ä»¶

### ğŸ”— ç¬¬ä¸‰æ–¹ç³»ç»Ÿé›†æˆ

- **CI/CDæµæ°´çº¿**: æ„å»ºã€æµ‹è¯•ã€éƒ¨ç½²çŠ¶æ€é€šçŸ¥
- **å·¥å•ç³»ç»Ÿ**: å·¥å•åˆ›å»ºã€å¤„ç†ã€å®ŒæˆçŠ¶æ€æ¨é€
- **CRMç³»ç»Ÿ**: å®¢æˆ·æœåŠ¡ã€é”€å”®æœºä¼šç­‰ä¸šåŠ¡é€šçŸ¥
- **ERPç³»ç»Ÿ**: åº“å­˜é¢„è­¦ã€è®¢å•çŠ¶æ€ç­‰è¿è¥é€šçŸ¥

### ğŸ“ˆ æ•°æ®æŠ¥è¡¨æ¨é€

- **æ—¥æŠ¥æ¨é€**: æ¯æ—¥ä¸šåŠ¡æ•°æ®æ±‡æ€»
- **å‘¨æŠ¥æ¨é€**: å‘¨åº¦è¿è¥æ•°æ®åˆ†æ
- **å¼‚å¸¸æŠ¥å‘Š**: æ•°æ®å¼‚å¸¸è‡ªåŠ¨åˆ†æå’Œæ¨é€
- **å®šæ—¶æŠ¥è¡¨**: è‡ªå®šä¹‰æ—¶é—´çš„æ•°æ®æŠ¥è¡¨

## ğŸ¨ æ¨¡æ¿ç¤ºä¾‹

### åŸºç¡€æ–‡æœ¬æ¨¡æ¿

```jinja2
## ğŸ“¢ ç³»ç»Ÿé€šçŸ¥
**æ ‡é¢˜**: {{ title }}
**å†…å®¹**: {{ content }}
**æ—¶é—´**: {{ timestamp }}
```

### å‘Šè­¦æ¨¡æ¿

```jinja2
## ğŸš¨ {{ severity }} çº§å‘Šè­¦

**é¡¹ç›®**: {{ project_name }}
**ç¯å¢ƒ**: {{ environment }}
**å®ä¾‹**: {{ instance }}
**å‘Šè­¦æ—¶é—´**: {{ alert_time }}

### è¯¦ç»†ä¿¡æ¯
{{ description }}

{% if solution %}
### è§£å†³æ–¹æ¡ˆ
{{ solution }}
{% endif %}

> è¯·ç›¸å…³äººå‘˜åŠæ—¶å¤„ç†
```

### ä¸šåŠ¡æŠ¥è¡¨æ¨¡æ¿

```jinja2
## ğŸ“Š {{ report_type }} - {{ date }}

### æ ¸å¿ƒæŒ‡æ ‡
- **ç”¨æˆ·è®¿é—®é‡**: {{ pv | default('N/A') }}
- **æ–°å¢ç”¨æˆ·**: {{ new_users | default('N/A') }}
- **è®¢å•æ•°é‡**: {{ orders | default('N/A') }}
- **æˆäº¤é‡‘é¢**: Â¥{{ revenue | default('0') }}

{% if top_products %}
### çƒ­é”€å•†å“ TOP5
{% for product in top_products %}
{{ loop.index }}. {{ product.name }} - é”€é‡: {{ product.sales }}
{% endfor %}
{% endif %}

### æ•°æ®è¶‹åŠ¿
{% if trend == 'up' %}
ğŸ“ˆ è¾ƒæ˜¨æ—¥ä¸Šå‡ {{ change_rate }}%
{% elif trend == 'down' %}
ğŸ“‰ è¾ƒæ˜¨æ—¥ä¸‹é™ {{ change_rate }}%
{% else %}
â¡ï¸ ä¸æ˜¨æ—¥æŒå¹³
{% endif %}
```

## ğŸ”§ é…ç½®æŒ‡å—

### ğŸ¤– æœºå™¨äººé…ç½®

#### ä¼ä¸šå¾®ä¿¡æœºå™¨äºº

1. åœ¨ä¼ä¸šå¾®ä¿¡ç¾¤ä¸­æ·»åŠ æœºå™¨äºº
2. è·å–Webhookåœ°å€
3. åœ¨ç³»ç»Ÿä¸­åˆ›å»ºæœºå™¨äººé…ç½®ï¼š
   - ç±»å‹é€‰æ‹©ï¼š`ä¼ä¸šå¾®ä¿¡`
   - ç²˜è´´Webhook URL

#### é£ä¹¦æœºå™¨äºº

1. åœ¨é£ä¹¦ç¾¤ä¸­æ·»åŠ è‡ªå®šä¹‰æœºå™¨äºº
2. è·å–Webhookåœ°å€
3. åœ¨ç³»ç»Ÿä¸­åˆ›å»ºæœºå™¨äººé…ç½®ï¼š
   - ç±»å‹é€‰æ‹©ï¼š`é£ä¹¦`
   - ç²˜è´´Webhook URL

#### é’‰é’‰æœºå™¨äºº

1. åœ¨é’‰é’‰ç¾¤ä¸­æ·»åŠ è‡ªå®šä¹‰æœºå™¨äºº
2. è®¾ç½®å®‰å…¨è®¾ç½®ï¼ˆå…³é”®è¯æˆ–IPç™½åå•ï¼‰
3. è·å–Webhookåœ°å€
4. åœ¨ç³»ç»Ÿä¸­åˆ›å»ºæœºå™¨äººé…ç½®ï¼š
   - ç±»å‹é€‰æ‹©ï¼š`é’‰é’‰`
   - ç²˜è´´Webhook URL

### ğŸ”„ åˆ†å‘è§„åˆ™é…ç½®

#### JSONæ¨¡å¼æå–è§„åˆ™

ç”¨äºæå–Prometheusç­‰JSONæ ¼å¼æ•°æ®ï¼š

```javascript
// æå–å‘Šè­¦å®ä¾‹
alerts[].labels.instance

// æå–é¡¹ç›®åç§°
alerts[].labels.project_custom

// æå–é›†ç¾¤ä¿¡æ¯
alerts[].labels.cluster

// æå–å‘Šè­¦çº§åˆ«
alerts[].labels.severity
```

#### å­—ç¬¦ä¸²æ¨¡å¼æå–è§„åˆ™

ç”¨äºæå–æ™®é€šæ–‡æœ¬ä¸­çš„ä¿¡æ¯ï¼š

```regex
// æå–IPåœ°å€
(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})

// æå–æœåŠ¡åç§°
service:\s*([^\s,]+)

// æå–æ—¶é—´æˆ³
\d{4}-\d{2}-\d{2}\s+\d{2}:\d{2}:\d{2}
```

## ğŸ›¡ï¸ å®‰å…¨é…ç½®

### ğŸ” è®¤è¯å®‰å…¨

#### JWTé…ç½®

```python
# settings.py
SIMPLE_JWT = {
    'ACCESS_TOKEN_LIFETIME': timedelta(days=1),    # è®¿é—®ä»¤ç‰Œæœ‰æ•ˆæœŸ
    'REFRESH_TOKEN_LIFETIME': timedelta(days=7),   # åˆ·æ–°ä»¤ç‰Œæœ‰æ•ˆæœŸ
    'ROTATE_REFRESH_TOKENS': True,                 # è‡ªåŠ¨è½®æ¢åˆ·æ–°ä»¤ç‰Œ
    'BLACKLIST_AFTER_ROTATION': True,              # è½®æ¢ååŠ å…¥é»‘åå•
}
```

#### å¯†ç ç­–ç•¥

- æœ€å°‘8ä½å­—ç¬¦
- åŒ…å«å¤§å°å†™å­—æ¯
- åŒ…å«æ•°å­—å’Œç‰¹æ®Šå­—ç¬¦
- å®šæœŸæé†’æ›´æ¢å¯†ç 

### ğŸ”’ è®¿é—®æ§åˆ¶

#### CORSé…ç½®

```python
# ç”Ÿäº§ç¯å¢ƒå»ºè®®æŒ‡å®šå…·ä½“åŸŸå
CORS_ALLOWED_ORIGINS = [
    "https://yourdomain.com",
    "https://subdomain.yourdomain.com",
]

# å¼€å‘ç¯å¢ƒå¯ä½¿ç”¨
CORS_ALLOW_ALL_ORIGINS = True
```

#### æ¥å£è®¿é—®é™åˆ¶

- è®¤è¯æ¥å£ï¼šéœ€è¦æœ‰æ•ˆToken
- å…¬å…±æ¥å£ï¼šIPç™½åå•æ§åˆ¶
- ç®¡ç†æ¥å£ï¼šç®¡ç†å‘˜æƒé™éªŒè¯

### ğŸ” å®¡è®¡æ—¥å¿—

ç³»ç»Ÿè‡ªåŠ¨è®°å½•ä»¥ä¸‹æ“ä½œï¼š

- ç”¨æˆ·ç™»å½•/ç™»å‡º
- æ¶ˆæ¯å‘é€è®°å½•
- é…ç½®å˜æ›´æ“ä½œ
- APIè°ƒç”¨æ—¥å¿—
- é”™è¯¯å¼‚å¸¸è®°å½•

## ğŸš€ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

### ğŸ³ Dockeréƒ¨ç½²

#### åˆ›å»ºDockerfile

**åç«¯Dockerfileï¼š**

```dockerfile
FROM python:3.9-slim

WORKDIR /app

COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

COPY . .

EXPOSE 8000

CMD ["python", "manage.py", "runserver", "0.0.0.0:8000"]
```

**å‰ç«¯Dockerfileï¼š**

```dockerfile
FROM node:16-alpine as builder

WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production

COPY . .
RUN npm run build

FROM nginx:alpine
COPY --from=builder /app/dist /usr/share/nginx/html
COPY nginx.conf /etc/nginx/nginx.conf

EXPOSE 80
```

#### Docker Composeé…ç½®

```yaml
version: '3.8'

services:
  backend:
    build: ./backend
    ports:
      - "8000:8000"
    environment:
      - DEBUG=False
      - SECRET_KEY=your_secret_key_here
    volumes:
      - ./backend:/app
      - static_volume:/app/static
    depends_on:
      - db

  frontend:
    build: ./frontend
    ports:
      - "80:80"
    depends_on:
      - backend

  db:
    image: postgres:13
    environment:
      - POSTGRES_DB=messagepush
      - POSTGRES_USER=postgres
      - POSTGRES_PASSWORD=password
    volumes:
      - postgres_data:/var/lib/postgresql/data

volumes:
  postgres_data:
  static_volume:
```

### ğŸŒ Nginxé…ç½®

```nginx
upstream backend {
    server backend:8000;
}

server {
    listen 80;
    server_name yourdomain.com;

    # å‰ç«¯é™æ€æ–‡ä»¶
    location / {
        root /usr/share/nginx/html;
        index index.html;
        try_files $uri $uri/ /index.html;
    }

    # åç«¯APIä»£ç†
    location /api/ {
        proxy_pass http://backend;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # é™æ€æ–‡ä»¶
    location /static/ {
        alias /app/static/;
    }
}
```

## ğŸ” ç›‘æ§ä¸è¿ç»´

### ğŸ“Š ç³»ç»Ÿç›‘æ§

#### åº”ç”¨æ€§èƒ½ç›‘æ§

- **å“åº”æ—¶é—´ç›‘æ§**: APIæ¥å£å“åº”æ—¶é—´ç»Ÿè®¡
- **é”™è¯¯ç‡ç›‘æ§**: è¯·æ±‚å¤±è´¥ç‡å’Œé”™è¯¯ç±»å‹åˆ†æ
- **ååé‡ç›‘æ§**: æ¯ç§’å¤„ç†è¯·æ±‚æ•°(QPS)ç»Ÿè®¡
- **èµ„æºç›‘æ§**: CPUã€å†…å­˜ã€ç£ç›˜ä½¿ç”¨ç‡

#### ä¸šåŠ¡æŒ‡æ ‡ç›‘æ§

- **æ¶ˆæ¯å‘é€é‡**: å®æ—¶å’Œå†å²æ¶ˆæ¯å‘é€ç»Ÿè®¡
- **æˆåŠŸç‡**: æ¶ˆæ¯æ¨é€æˆåŠŸç‡ç»Ÿè®¡
- **æœºå™¨äººçŠ¶æ€**: å„å¹³å°æœºå™¨äººè¿é€šæ€§ç›‘æ§
- **ç”¨æˆ·æ´»è·ƒåº¦**: ç”¨æˆ·ç™»å½•å’Œæ“ä½œé¢‘ç‡åˆ†æ

### ğŸš¨ å‘Šè­¦é…ç½®

#### ç³»ç»Ÿå‘Šè­¦

```yaml
# ç³»ç»Ÿå‘Šè­¦è§„åˆ™ç¤ºä¾‹
alerts:
  - name: high_error_rate
    condition: error_rate > 0.05
    duration: 5m
    action: send_notification
    
  - name: slow_response
    condition: avg_response_time > 2s
    duration: 3m
    action: send_notification
    
  - name: service_down
    condition: service_status == "down"
    duration: 1m
    action: send_notification
```

### ğŸ“ æ—¥å¿—ç®¡ç†

#### æ—¥å¿—çº§åˆ«é…ç½®

```python
LOGGING = {
    'version': 1,
    'disable_existing_loggers': False,
    'formatters': {
        'verbose': {
            'format': '{levelname} {asctime} {module} {process:d} {thread:d} {message}',
            'style': '{',
        },
    },
    'handlers': {
        'file': {
            'level': 'INFO',
            'class': 'logging.FileHandler',
            'filename': 'logs/django.log',
            'formatter': 'verbose',
        },
        'console': {
            'level': 'DEBUG',
            'class': 'logging.StreamHandler',
            'formatter': 'verbose',
        },
    },
    'root': {
        'handlers': ['console', 'file'],
        'level': 'INFO',
    },
}
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### ğŸš€ åç«¯ä¼˜åŒ–

#### æ•°æ®åº“ä¼˜åŒ–

- **ç´¢å¼•ä¼˜åŒ–**: ä¸ºæŸ¥è¯¢é¢‘ç¹çš„å­—æ®µæ·»åŠ ç´¢å¼•
- **æŸ¥è¯¢ä¼˜åŒ–**: ä½¿ç”¨select_relatedå’Œprefetch_relatedå‡å°‘æ•°æ®åº“æŸ¥è¯¢
- **è¿æ¥æ± **: é…ç½®æ•°æ®åº“è¿æ¥æ± æé«˜å¹¶å‘æ€§èƒ½
- **ç¼“å­˜ç­–ç•¥**: ä½¿ç”¨Redisç¼“å­˜çƒ­ç‚¹æ•°æ®

#### APIä¼˜åŒ–

- **åˆ†é¡µå¤„ç†**: å¤§æ•°æ®é‡æ¥å£ä½¿ç”¨åˆ†é¡µ
- **å¼‚æ­¥å¤„ç†**: è€—æ—¶æ“ä½œä½¿ç”¨å¼‚æ­¥ä»»åŠ¡
- **å‹ç¼©ä¼ è¾“**: å¯ç”¨Gzipå‹ç¼©å‡å°‘ä¼ è¾“å¤§å°
- **é™æµæ§åˆ¶**: å®ç°æ¥å£è®¿é—®é¢‘ç‡é™åˆ¶

### ğŸ’» å‰ç«¯ä¼˜åŒ–

#### æ„å»ºä¼˜åŒ–

- **ä»£ç åˆ†å‰²**: æŒ‰è·¯ç”±åˆ†å‰²ä»£ç ï¼Œå®ç°æ‡’åŠ è½½
- **Tree Shaking**: ç§»é™¤æœªä½¿ç”¨çš„ä»£ç 
- **èµ„æºå‹ç¼©**: å‹ç¼©CSSã€JSã€å›¾ç‰‡èµ„æº
- **CDNåŠ é€Ÿ**: é™æ€èµ„æºä½¿ç”¨CDNåŠ é€Ÿ

#### è¿è¡Œæ—¶ä¼˜åŒ–

- **ç»„ä»¶ç¼“å­˜**: ä½¿ç”¨keep-aliveç¼“å­˜ç»„ä»¶
- **è™šæ‹Ÿæ»šåŠ¨**: å¤§åˆ—è¡¨ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨æŠ€æœ¯
- **é˜²æŠ–èŠ‚æµ**: æœç´¢ç­‰æ“ä½œä½¿ç”¨é˜²æŠ–èŠ‚æµ
- **é¢„åŠ è½½**: å…³é”®èµ„æºé¢„åŠ è½½æå‡ä½“éªŒ

## ğŸ¤ è´¡çŒ®æŒ‡å—

### ğŸ“‹ å¼€å‘æµç¨‹

1. **Forké¡¹ç›®** åˆ°ä¸ªäººä»“åº“
2. **åˆ›å»ºç‰¹æ€§åˆ†æ”¯** `git checkout -b feature/amazing-feature`
3. **æäº¤æ›´æ”¹** `git commit -m 'Add some amazing feature'`
4. **æ¨é€åˆ†æ”¯** `git push origin feature/amazing-feature`
5. **åˆ›å»ºPull Request**

### ğŸ”§ å¼€å‘è§„èŒƒ

#### ä»£ç è§„èŒƒ

- **Python**: éµå¾ªPEP8ç¼–ç è§„èŒƒ
- **JavaScript/TypeScript**: ä½¿ç”¨ESLintå’ŒPrettier
- **Vue**: éµå¾ªVueå®˜æ–¹é£æ ¼æŒ‡å—
- **CSS**: ä½¿ç”¨BEMå‘½åè§„èŒƒ

#### æäº¤è§„èŒƒ

```text
<type>(<scope>): <subject>

<body>

<footer>
```

**Typeç±»å‹ï¼š**

- `feat`: æ–°åŠŸèƒ½
- `fix`: Bugä¿®å¤
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼åŒ–
- `refactor`: ä»£ç é‡æ„
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»ºè¿‡ç¨‹æˆ–å·¥å…·å˜åŠ¨

### ğŸ§ª æµ‹è¯•æŒ‡å—

#### åç«¯æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
python manage.py test

# è¿è¡Œç‰¹å®šåº”ç”¨æµ‹è¯•
python manage.py test push

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
coverage run --source='.' manage.py test
coverage report
```

#### å‰ç«¯æµ‹è¯•

```bash
# å•å…ƒæµ‹è¯•
npm run test:unit

# ç«¯åˆ°ç«¯æµ‹è¯•
npm run test:e2e

# æµ‹è¯•è¦†ç›–ç‡
npm run test:coverage
```

## ğŸŒ ç¯å¢ƒé…ç½®è¯¦è§£

### ğŸ“‹ ç¯å¢ƒæ–‡ä»¶è¯´æ˜

ç³»ç»Ÿé‡‡ç”¨åŸºäº Vite çš„å¤šç¯å¢ƒé…ç½®æ–¹æ¡ˆï¼Œæ”¯æŒä»¥ä¸‹4ä¸ªé¢„å®šä¹‰ç¯å¢ƒï¼š

| ç¯å¢ƒ | æ–‡ä»¶å | ç”¨é€” | APIåœ°å€ç¤ºä¾‹ |
|------|--------|------|-------------|
| å¼€å‘ç¯å¢ƒ | `.env.development` | æœ¬åœ°å¼€å‘è°ƒè¯• | `http://localhost:8000` |
| æµ‹è¯•ç¯å¢ƒ | `.env.test` | åŠŸèƒ½æµ‹è¯•éªŒè¯ | `http://test-api.example.com` |
| é¢„å‘å¸ƒç¯å¢ƒ | `.env.staging` | ä¸Šçº¿å‰éªŒè¯ | `https://staging-api.example.com` |
| ç”Ÿäº§ç¯å¢ƒ | `.env.production` | æ­£å¼ç”Ÿäº§ç¯å¢ƒ | `https://api.example.com` |

### âš™ï¸ ç¯å¢ƒå˜é‡è¯´æ˜

#### æ ¸å¿ƒé…ç½®é¡¹

```bash
# èŠ‚ç‚¹ç¯å¢ƒ
VITE_NODE_ENV=development

# APIåŸºç¡€åœ°å€ï¼ˆå¿…é¡»é…ç½®ï¼‰
VITE_API_BASE_URL=http://localhost:8000

# åº”ç”¨ä¿¡æ¯
VITE_APP_TITLE=é—ªç”µæ¨é€ç³»ç»Ÿ
VITE_APP_VERSION=1.0.0

# åŠŸèƒ½å¼€å…³
VITE_DEBUG=true                    # è°ƒè¯•æ¨¡å¼
VITE_SHOW_ENV_TAG=true            # æ˜¾ç¤ºç¯å¢ƒæ ‡è¯†
VITE_DEV_TOOLS=true               # å¼€å‘å·¥å…·
```

#### ç½‘ç»œé…ç½®

```bash
# APIé…ç½®
VITE_API_TIMEOUT=10000            # APIè¶…æ—¶æ—¶é—´(ms)
VITE_WS_BASE_URL=ws://localhost:8000  # WebSocketåœ°å€

# CDNé…ç½®
VITE_CDN_URL=https://cdn.example.com
```

#### ç›‘æ§ä¸åˆ†æ

```bash
# æ—¥å¿—é…ç½®
VITE_LOG_LEVEL=debug              # debug|info|warn|error

# ç›‘æ§é…ç½®
VITE_ENABLE_PERFORMANCE=true      # æ€§èƒ½ç›‘æ§
VITE_ENABLE_ERROR_REPORTING=true  # é”™è¯¯ä¸ŠæŠ¥
VITE_SENTRY_DSN=                  # Sentry DSN

# ç»Ÿè®¡åˆ†æ
VITE_ENABLE_ANALYTICS=true        # ç»Ÿè®¡åˆ†æ
```

### ğŸš€ ä½¿ç”¨ç¤ºä¾‹

#### ä»£ç ä¸­ä½¿ç”¨ç¯å¢ƒå˜é‡

```typescript
// ç›´æ¥ä½¿ç”¨
const apiUrl = import.meta.env.VITE_API_BASE_URL;
const isDebug = import.meta.env.VITE_DEBUG === 'true';

// ä½¿ç”¨ç¯å¢ƒé…ç½®å·¥å…·ç±»
import { EnvConfig } from '@/utils/envConfig';

console.log(EnvConfig.apiBaseUrl);      // APIåœ°å€
console.log(EnvConfig.isProduction);    // æ˜¯å¦ç”Ÿäº§ç¯å¢ƒ
console.log(EnvConfig.appVersion);      // åº”ç”¨ç‰ˆæœ¬

// ç¯å¢ƒåˆ¤æ–­
if (EnvConfig.isDevelopment) {
  // å¼€å‘ç¯å¢ƒç‰¹æœ‰é€»è¾‘
}
```

#### éƒ¨ç½²è„šæœ¬ç¤ºä¾‹

```bash
#!/bin/bash
# éƒ¨ç½²è„šæœ¬ç¤ºä¾‹

# æµ‹è¯•ç¯å¢ƒéƒ¨ç½²
echo "æ„å»ºæµ‹è¯•ç¯å¢ƒ..."
npm run build:test
echo "éƒ¨ç½²åˆ°æµ‹è¯•æœåŠ¡å™¨..."
rsync -av dist/ user@test-server:/var/www/html/

# ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
echo "æ„å»ºç”Ÿäº§ç¯å¢ƒ..."
npm run build:prod
echo "éƒ¨ç½²åˆ°ç”Ÿäº§æœåŠ¡å™¨..."
rsync -av dist/ user@prod-server:/var/www/html/
```

### ğŸ”§ è‡ªå®šä¹‰ç¯å¢ƒ

å¦‚éœ€æ–°å¢ç¯å¢ƒï¼ŒæŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

1. **åˆ›å»ºç¯å¢ƒæ–‡ä»¶**ï¼š`touch .env.{ç¯å¢ƒå}`
2. **é…ç½®package.jsonè„šæœ¬**ï¼š

   ```json
   {
     "scripts": {
       "dev:custom": "vite --mode custom",
       "build:custom": "vue-tsc -b && vite build --mode custom"
     }
   }
   ```

3. **æ›´æ–°ç¯å¢ƒå·¥å…·ç±»**ï¼šåœ¨ `EnvConfig` ä¸­æ·»åŠ ç¯å¢ƒåˆ¤æ–­
4. **é…ç½®éƒ¨ç½²æµç¨‹**ï¼šæ›´æ–°CI/CDè„šæœ¬

### ğŸ“ é…ç½®æ–‡ä»¶å‚è€ƒ

è¯¦ç»†çš„ç¯å¢ƒé…ç½®è¯´æ˜è¯·å‚è€ƒï¼š[ENV_CONFIG_GUIDE.md](frontend/ENV_CONFIG_GUIDE.md)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [MIT License](LICENSE) å¼€æºåè®®å‘å¸ƒã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®å’ŒæŠ€æœ¯ï¼š

- [Django](https://djangoproject.com/) - å¼ºå¤§çš„Python Webæ¡†æ¶
- [Vue.js](https://vuejs.org/) - æ¸è¿›å¼JavaScriptæ¡†æ¶
- [Element Plus](https://element-plus.org/) - ä¼˜ç§€çš„Vue 3ç»„ä»¶åº“
- [ECharts](https://echarts.apache.org/) - å¼ºå¤§çš„æ•°æ®å¯è§†åŒ–åº“
- [Jinja2](https://jinja.palletsprojects.com/) - çµæ´»çš„æ¨¡æ¿å¼•æ“

## ğŸ“ è”ç³»æˆ‘ä»¬

- **ä½œè€…**: X-Mars
- **é¡¹ç›®åœ°å€**: [GitHub](https://github.com/X-Mars/lightning_massage_push)
- **é—®é¢˜åé¦ˆ**: [Issues](https://github.com/X-Mars/lightning_massage_push/issues)
- **åŠŸèƒ½å»ºè®®**: [Discussions](https://github.com/X-Mars/lightning_massage_push/discussions)

## ğŸ”— ç›¸å…³é“¾æ¥

<!-- - [åœ¨çº¿æ–‡æ¡£](https://your-docs-site.com)
- [æ¼”ç¤ºç«™ç‚¹](https://your-demo-site.com)
- [æ›´æ–°æ—¥å¿—](CHANGELOG.md)
- [å¼€å‘è·¯çº¿å›¾](ROADMAP.md) -->

---

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ªæ˜Ÿæ ‡ï¼**

[![Star History Chart](https://api.star-history.com/svg?repos=X-Mars/lightning_massage_push&type=Date)](https://star-history.com/#X-Mars/lightning_massage_push&Date)
